<html lang="en">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="../../favicon.ico">
    <title>Admin Dashboard</title>
    <!-- Bootstrap core CSS -->
    <link href="{{STATIC_URL}}bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom styles for this template -->
    <link href="{{STATIC_URL}}font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="{{STATIC_URL}}css/select.css" rel="stylesheet">
    <link href="{{STATIC_URL}}bootstrap/dashboard/css/sb-admin-2.css" rel="stylesheet">
    <link href="{{STATIC_URL}}bootstrap/dashboard/css/timeline.css" rel="stylesheet">
    <link href="{{STATIC_URL}}metisMenu/metisMenu.css" rel="stylesheet">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/select2/3.4.5/select2.css">
    <link rel="stylesheet" href="http://cdnjs.cloudflare.com/ajax/libs/selectize.js/0.8.5/css/selectize.default.css">
    <style type="text/css">
    .select2 > .select2-choice.ui-select-match {
        /* Because of the inclusion of Bootstrap */
        height: 29px;
    }
    
    .selectize-control > .selectize-dropdown {
        top: 36px;
    }
    </style>
</head>
{% verbatim %}

<body ng-app="mohalla_user">
    <div id="wrapper" ng-controller="MohallaUserCtrl">
            <div style="border: 1px solid #ccc;background-color: #fff;margin-top:0px;width:15%;height:100%" class="navbar-default sidebar" role="navigation">
                <div class="sidebar-nav navbar-collapse">
                    <ul class="nav in" id="side-menu">
                            <li>
                                <a href="#/dashboard"><i class="fa fa-desktop"></i>&nbsp;&nbsp;&nbsp;Dashboard</a>
                            </li>
                            <li>
                                <a href="#/muhalla"><i class="fa fa-building"></i>&nbsp;&nbsp;&nbsp;&nbsp;Muhalla</a>
                            </li>                        
                            <li>
                                <a href="#/family_members"><i class="fa fa-users"></i>&nbsp;&nbsp;&nbsp;&nbsp;Family Members</a>
                            </li>
                            <li>
                                <a href="#/settings"><i class="side_icon fa fa-gear fa-fw"></i>&nbsp;&nbsp;&nbsp;Settings</a>
                            </li>
                            <button class="btn-sm btn btn-primary" style="float:left;width:100%;" ng-click="user_logout()"><i class="fa fa-sign-out"></i>&nbsp;&nbsp;&nbsp;Logout</button>
                        </ul>           
                </div>
            </div>
        <div style="min-height: 491px;width:80%;float:left;margin-left:17%;margin-top:0px;" ng-view>
        </div>    
    </div>
    <script type="text/ng-template" id="settings.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Settings</h1>
            </div>
        </div>        
    </script>
    <script type="text/ng-template" id="dashboard.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Dashboard</h1>
            </div>
        </div>        
    </script> 
    <script type="text/ng-template" id="family_members.html">
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Family Members</h1>
            </div>
        </div>        
    </script>
    <script type="text/ng-template" id="muhalla.html">
        <span style="float:right">Welcome! {{muhalla_values.uname}}.</span>
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Muhallas</h1>
            </div>
            <div class=" col-lg-12">
                <span style="width:25%;float:left;">District</span>
                <span style="width:25%;float:left;">Taluk</span>
                <span style="width:25%;float:left;">Mohalla</span>
                <span style="width:25%;float:left;">Mohalla ID</span>
            </div>
            <div class=" col-lg-12">
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.district" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.taluk" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla" readonly/>
                <input style="display: inline-block;height: 34px;width: 25%;float: left;" class="form-control" type="text" ng-model="muhalla_values.mohalla_id" readonly/>
            </div>
            <div class="col-lg-12"><br/></div>
            <div class=" col-lg-12">
                <input style="display: inline-block;width: 25%;height: 34px;float: left;" type="text" placeholder="Masjid Name" ng-model="muhalla_values.mohalla" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <input style="display: inline-block;width: 25%;height: 34px;float: left;" type="text" placeholder="Number of Musallis" ng-model="muhalla_values.musallas" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <input style="display: inline-block;width: 40%;height: 34px;float: left;" type="text" placeholder="Address" ng-model="muhalla_values.address" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required">
                <button type="submit" style="width:10%;height: 34px;" ng-click="updatemahalla(muhalla_values)" class="btn-sm btn btn-primary">Update</button>
            </div>            
        </div>    
        <div class="row">
            <div class="col-lg-12">
                <h1 class="page-header">Members</h1>
            </div>
            <table class="table table-striped table-bordered table-hover ng-scope">
                <thead>
                    <tr>
                        <th>S.No</th>
                        <th>Name</th>
                        <th>Age</th>
                        <th>Post</th>
                        <th>Contact</th>
                        <th>Address</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    <tr class="ng-scope">                        
                        <td><input type="text" placeholder="1" class="input-sm form-control ng-pristine ng-invalid ng-invalid-required" readonly></td>
                        <td><input class="form-control" type="text" ng-model="member_name" placeholder="Member Name"/></td>
                        <td><input class="form-control" type="text" ng-model="age" valid-number placeholder="Age"/></td>
                        <td><input class="form-control" type="text" ng-model="designation" placeholder="Designation"/></td>
                        <td><input class="form-control" type="text" ng-model="mobile" placeholder="Mobile Number"/></td>
                        <td><input class="form-control" type="text" ng-model="address" placeholder="Address" /></td>                
                        <td><button ng-disabled="!member_name || !designation || !age" type="submit" ng-click="add_member(member_name,age,designation,mobile,address,'new')" class="btn-sm btn btn-primary"><i class="glyphicon glyphicon-plus"></i>Add</button></td>
                    </tr>
                    <tr ng-show="masjid_member_list.length==0">
                        <td colspan="7" style="text-align:center;" class="ng-binding">No Member Data Found!</td>
                    </tr>
                    <tr ng-repeat="member in masjid_member_list" class="ng-scope">
                        <td>{{$index+1}}</td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.name}}</span><input style="display: inline-block;height: 34px;width: 200px;float: left;margin-right: -90px;" type="text" ng-show="updateMem" ng-model="member.name"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.age}}</span><input style="display: inline-block;height: 34px;width: 30px;float: left;" type="text" ng-show="updateMem" ng-model="member.age"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.designation}}</span><input style="display: inline-block;height: 34px;width: 130px;float: left;margin-right: -65px;" type="text" ng-show="updateMem" ng-model="member.designation"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.mobile}}</span><input style="display: inline-block;height: 34px;width: 130px;float: left;margin-right: -65px;" type="text" ng-show="updateMem" ng-model="member.mobile"></td>
                        <td class="ng-binding"><span ng-show="!updateMem">{{member.address}}</span><input style="display: inline-block;height: 34px;width: 110px;float: left;margin-right: -45px;" type="text" ng-show="updateMem" ng-model="member.address"></td>
                        <td><a ng-show="!updateMem" ng-click="updateMem=true;" class="color-edit"><i class="glyphicon glyphicon-pencil"></i></a>
                            <a ng-show="updateMem" ng-click="updateMem=false;UpdateMember(muhalla_values.mohalla_id,member,member.name,member.age,member.designation,member.mobile,member.address)" class="color-edit"><i class="glyphicon glyphicon-plus"></i></a>
                            <a ng-confirm-click="Are you Sure you want to Delete?" confirmed-click="DeleteMember(muhalla_values.mohalla_id,member)" class="color-delete"><i class="glyphicon glyphicon-trash"></i></a></td>
                    </tr>
                    <!-- end ngRepeat: cat in categorys track by $index| filter:searchText -->
                </tbody>
            </table>
        </div>
    </script>
    {% endverbatim %}
    <script src="{{STATIC_URL}}js/jquery/jquery-2.0.3.min.js"></script>
    <script src="{{STATIC_URL}}bootstrap/js/bootstrap.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/ui-bootstrap-tpls.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular-cookies.min.js"></script>
    <script src="{{STATIC_URL}}js/angular/angular-route.min.js"></script>
    <script src="{{STATIC_URL}}js/mohuser.js"></script>
    </body>
    </html> 